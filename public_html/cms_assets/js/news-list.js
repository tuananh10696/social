(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{397:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return j}));var a=n(18),r=n.n(a),i=n(393),s=n.n(i),c=n(394),o=n.n(c),l=n(392);function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function g(t,e,n,a,r,i,s){try{var c=t[i](s),o=c.value}catch(l){return void n(l)}c.done?e(o):Promise.resolve(o).then(a,r)}function _(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){g(i,a,r,s,c,"next",t)}function c(t){g(i,a,r,s,c,"throw",t)}s(void 0)}))}}function p(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var j=function t(){v(this,t),document.getElementById("content")&&s.a.render(Object(l.a)(w,null),document.getElementById("content"))},w=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(s,t);var e,n,a,i=b(s);function s(t){var e;return v(this,s),(e=i.call(this,t)).loadJson=_(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(window.rootPath,"jsdata/getList.json?rev=").concat(Date.now()),t.next=3,fetch(n);case 3:return t.next=5,t.sent.json();case 5:return t.next=7,t.sent.data;case 7:a=t.sent,e.setState({data:a,mode:a.infos[0].list_view_type,hasCategory:a.categories.length>0});case 9:case"end":return t.stop()}}),t)}))),e.pageChange=function(t){window.scrollTo(0,0),e.setState({currentPage:t})},e.createPager=function(t){for(var n=[],a=Math.ceil(t/12),r=function(t){var a="";t<Number(e.state.currentPage)-3&&(a="disable"),t>Number(e.state.currentPage)+3&&(a="disable");var r=t===e.state.currentPage?"active":"";n.push(Object(l.a)("li",{onClick:function(){e.pageChange(t)},className:"pager__list-item ".concat(a," ").concat(r),key:"pager__list-item".concat(t)},t+1))},i=0;i<a-1;i++)r(i);return a>3&&e.state.currentPage<a-1&&n.push(Object(l.a)("li",{className:"pager__list-item pager__list-item--for",key:"pager__list-item-for"},"...")),n.push(Object(l.a)("li",{className:"pager__list-item ".concat(e.state.currentPage===a-1?"active":""),onClick:function(){e.pageChange(a-1)},key:"pager__list-item-max"},a)),e.state.currentPage>3&&(n.unshift(Object(l.a)("li",{className:"pager__list-item pager__list-item--for",key:"pager__list-item-before"},"...")),n.unshift(Object(l.a)("li",{onClick:function(){e.pageChange(0)},className:"pager__list-item",key:"pager__list-item-first"},"1"))),n},e.categoryChange=function(t){e.setState({category:t})},e.getDisplayAlternatives=function(){var t=[];if(e.state.data.infos){var n,a=f(e.state.data.infos);try{for(a.s();!(n=a.n()).done;){var r=n.value;("all"===e.state.category||r.category_id===e.state.category)&&t.push(r)}}catch(i){a.e(i)}finally{a.f()}}return t},e.state={mode:null,currentPage:sessionStorage.getItem("page")?Number(sessionStorage.getItem("page")):0,data:[],category:"all"},e}return e=s,(n=[{key:"componentDidMount",value:function(){this.loadJson()}},{key:"componentDidUpdate",value:function(){o()(),sessionStorage.setItem("page",this.state.currentPage)}},{key:"render",value:function(){var t=this,e=this.getDisplayAlternatives();return Object(l.a)(r.a.Fragment,null,function(){if(t.state.hasCategory)return Object(l.a)("nav",{className:"category__navigation"},Object(l.a)("ul",{className:"category__navigation-list"},Object(l.a)("li",{className:"category__navigation-list-item col1 ".concat("all"===t.state.category?"active":""),onClick:function(){t.categoryChange("all")}},Object(l.a)("span",null,"\u4e00\u89a7")),t.state.data.categories&&t.state.data.categories.map((function(e,n){return Object(l.a)("li",{className:"category__navigation-list-item ".concat(e.style," ").concat(e.id===t.state.category?"active":""),key:"category__navigation-list-item".concat(n),onClick:function(){t.categoryChange(e.id)}},Object(l.a)("span",null,e.name))}))))}(),function(){if(1===t.state.mode){var n=null,a=12*t.state.currentPage;if(0===a&&e[0]){a=1;var i=e[0].date.split("-"),s=new Date(Number(i[0]),Number(i[1])-1,Number(i[2])).getTime(),c=(new Date).getTime();n=Object(l.a)("div",{className:"news__list-item news__list-item--max",key:"new-list-item".concat(e[0].id,"_0")},Object(l.a)("a",{href:e[0].link},Object(l.a)("figure",{className:"news__list-item-figure"},Object(l.a)("img",{src:e[0].image||"/cms_assets/images/nothing.png",alt:""})),Object(l.a)("div",{className:"news__list-item-column"},function(){if(c-s<=864028769)return Object(l.a)("p",{className:"news__list-item-new"},"NEW")}(),Object(l.a)("dl",{className:"news__list-item-definition-list"},Object(l.a)("dt",{className:"news__list-item-definition-list-term"},Object(l.a)("span",null,e[0].title)),Object(l.a)("dd",{className:"news__list-item-date"},Object(l.a)("span",null,e[0].date),function(){if(t.state.hasCategory)return Object(l.a)("span",{className:"news__list-item-category ".concat(e[0].category_style)},e[0].category_name)}()),Object(l.a)("dd",{className:"news__list-item-definition-list-description",dangerouslySetInnerHTML:{__html:e[0].overview}})))))}var o=a+12;o>e.length&&(o=e.length);for(var u=[],f=function(n){var a=e[n].date.split("-"),r=new Date(Number(a[0]),Number(a[1])-1,Number(a[2])).getTime(),i=(new Date).getTime();u.push(Object(l.a)("li",{className:"news__list-item",key:"new-list-item".concat(e[n].id,"_").concat(n)},Object(l.a)("a",{href:e[n].link},Object(l.a)("figure",{className:"news__list-item-figure"},Object(l.a)("img",{src:"".concat(e[n].image||"/cms_assets/images/nothing.png"),alt:""})),Object(l.a)("div",{className:"news__list-item-column"},function(){if(i-r<=864028769)return Object(l.a)("p",{className:"news__list-item-new"},"NEW")}(),Object(l.a)("dl",{className:"news__list-item-definition-list"},Object(l.a)("dt",{className:"news__list-item-definition-list-term"},Object(l.a)("span",null,e[n].title)),Object(l.a)("dd",{className:"news__list-item-date"},Object(l.a)("span",null,e[n].date),function(){if(t.state.hasCategory)return Object(l.a)("span",{className:"news__list-item-category ".concat(e[n].category_style)},e[n].category_name)}()),Object(l.a)("dd",{className:"news__list-item-definition-list-description",dangerouslySetInnerHTML:{__html:e[n].overview}}))))))},m=a;m<o;m++)f(m);return 0===e.length?Object(l.a)("div",{className:"news"}):Object(l.a)("div",{className:"news"},function(){if(n)return Object(l.a)(r.a.Fragment,null,n)}(),Object(l.a)("ul",{className:"news__list"},u),Object(l.a)("nav",{className:"pager"},Object(l.a)("ol",{className:"pager__list"},t.createPager(e.length))))}if(2===t.state.mode){var g=12*t.state.currentPage,_=g+12;_>e.length&&(_=e.length);for(var p=[],y=function(n){p.push(Object(l.a)("li",{className:"news__text-list-item",key:"news-text-list-item".concat(e[n].id,"_").concat(n)},Object(l.a)("a",{href:e[n].link},Object(l.a)("span",{className:"news__text-list-item-date"},e[n].date.split("-").join(".")),function(){if(t.state.hasCategory)return Object(l.a)("span",{className:"news__list-item-category ".concat(e[n].category_style)},e[n].category_name)}(),Object(l.a)("span",{className:"news__text-list-item-title"},e[n].title))))},b=g;b<_;b++)y(b);return 0===e.length?Object(l.a)("div",{className:"news"}):Object(l.a)("div",{className:"news"},Object(l.a)("ul",{className:"news__text-list"},p),Object(l.a)("nav",{className:"pager"},Object(l.a)("ol",{className:"pager__list"},t.createPager(e.length))))}return Object(l.a)(r.a.Fragment,null)}())}}])&&p(e.prototype,n),a&&p(e,a),s}(r.a.Component)}}]);